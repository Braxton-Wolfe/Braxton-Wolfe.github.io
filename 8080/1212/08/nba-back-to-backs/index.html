<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Hugo 0.152.2">


<title>NBA Back-to-Back Analysis - Braxton Wolfes Sports Blog</title>
<meta property="og:title" content="NBA Back-to-Back Analysis - Braxton Wolfes Sports Blog">




  










<link rel="stylesheet" href="/css/fonts.css" media="all">
<link rel="stylesheet" href="/css/main.css" media="all">



  </head>
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="/" class="nav-logo">
    
    <img src="/logo.png"
         alt="Braxton Wolfes Sports Blog"
         height="50"
         width="50">
    
    <span style="margin-left: 10px; font-weight: bold; font-size: 1.2em;">Braxton Wolfes Sports Blog</span>
  </a>

  <ul class="nav-links">
    
    <li><a href="/about/">About</a></li>
    
    <li><a href="https://github.com/Braxton-Wolfe">GitHub</a></li>
    
    <li><a href="/">Twitter</a></li>
    
  </ul>
</nav>
      </header>


<main class="content" role="main">

  <article class="article">
    
    <span class="article-duration">12 min read</span>
    

    <h1 class="article-title">NBA Back-to-Back Analysis</h1>

    
    <span class="article-date">2025-12-08</span>
    

    <div class="article-content">
      
      <h2 id="introduction">Introduction</h2>
<p>The NBA has one of the more rigorous schedules in all of sports. With there being so many games in a season, back to backs are critical to get an entire season to fit in the window of time that they have. Even though they are necessary, back to backs have caught quite a bit of flack from the audience and the effect it has on the game. We are going to dive into the data on back to backs in the NBA and see how they affect teams play, while comparing it to their other performances with rest involved.</p>
<p>For the first chart, I wanted to look into offense, and the effect a back to back has on players&rsquo; stamina and offensive statistics. In order to condense this chart and make it more of a regional comparison, I decided to group each division together and look at the difference in PPG for each division on the second night of a back to back, and compare that to having rest the day before.</p>
<h2 id="scoring-rises-with-rest">Scoring rises with rest</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#75715e"># Scoring is down without rest - FIXED for RStudio Viewer</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># This should display bars properly</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(tidyverse)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(lubridate)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">setwd</span>(<span style="color:#e6db74">&#34;~/Documents&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Load data</span>
</span></span><span style="display:flex;"><span>all_teams <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">list</span>(
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Teamdata1.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>), <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Teamdata2.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Teamdata3.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>), <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Teamdata4.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Teamdata5.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>), <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Teamdata6.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">6</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Teamdata7.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">7</span>), <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Teamdata8.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">8</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Teamdata9.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">9</span>), <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Teamdata10.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Teamdata11.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">11</span>), <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Teamdata12.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Teamdata13.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">13</span>), <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Teamdata14.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">14</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Teamdata15.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">15</span>), <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Teamdata16.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">16</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Teamdata17.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">17</span>), <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Teamdata18.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">18</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Teamdata19.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">19</span>), <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Teamdata20.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">20</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Teamdata21.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">21</span>), <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Trailblazersdata.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">22</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;sunsdata.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">23</span>), <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;raptorsdata.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">24</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;76ersdata.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">25</span>), <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;netsdata.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">26</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;JazzData.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">27</span>), <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;HornetsData.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">28</span>),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;PelicansData.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">29</span>), <span style="color:#a6e22e">list</span>(file <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Wizardsdata.csv&#34;</span>, rank <span style="color:#f92672">=</span> <span style="color:#ae81ff">30</span>)
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>all_data <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">data.frame</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(team_info <span style="color:#66d9ef">in</span> all_teams) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span><span style="color:#a6e22e">file.exists</span>(team_info<span style="color:#f92672">$</span>file)) <span style="color:#66d9ef">next</span>
</span></span><span style="display:flex;"><span>  team_data <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">read.csv</span>(team_info<span style="color:#f92672">$</span>file, skip <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, stringsAsFactors <span style="color:#f92672">=</span> <span style="color:#66d9ef">FALSE</span>)
</span></span><span style="display:flex;"><span>  team_data <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">data.frame</span>(
</span></span><span style="display:flex;"><span>    Date <span style="color:#f92672">=</span> team_data[, <span style="color:#ae81ff">3</span>], Points <span style="color:#f92672">=</span> team_data[, <span style="color:#ae81ff">7</span>]
</span></span><span style="display:flex;"><span>  ) <span style="color:#f92672">|&gt;</span> <span style="color:#a6e22e">filter</span>(<span style="color:#f92672">!</span><span style="color:#a6e22e">is.na</span>(Date) <span style="color:#f92672">&amp;</span> Date <span style="color:#f92672">!=</span> <span style="color:#e6db74">&#34;&#34;</span>) <span style="color:#f92672">|&gt;</span> <span style="color:#a6e22e">mutate</span>(Team_Rank <span style="color:#f92672">=</span> team_info<span style="color:#f92672">$</span>rank)
</span></span><span style="display:flex;"><span>  all_data <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">rbind</span>(all_data, team_data)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>all_data<span style="color:#f92672">$</span>Date <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ymd</span>(all_data<span style="color:#f92672">$</span>Date)
</span></span><span style="display:flex;"><span>all_data<span style="color:#f92672">$</span>Points <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">as.numeric</span>(all_data<span style="color:#f92672">$</span>Points)
</span></span><span style="display:flex;"><span>all_data <span style="color:#f92672">&lt;-</span> all_data <span style="color:#f92672">|&gt;</span> <span style="color:#a6e22e">arrange</span>(Team_Rank, Date)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>all_data <span style="color:#f92672">&lt;-</span> all_data <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">group_by</span>(Team_Rank) <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">mutate</span>(Days_Rest <span style="color:#f92672">=</span> <span style="color:#a6e22e">as.numeric</span>(Date <span style="color:#f92672">-</span> <span style="color:#a6e22e">lag</span>(Date))) <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ungroup</span>() <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">mutate</span>(Game_Type <span style="color:#f92672">=</span> <span style="color:#a6e22e">ifelse</span>(Days_Rest <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#34;B2B&#34;</span>, 
</span></span><span style="display:flex;"><span>                             <span style="color:#a6e22e">ifelse</span>(Days_Rest <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#34;Rest&#34;</span>, <span style="color:#66d9ef">NA</span>))) <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">filter</span>(<span style="color:#f92672">!</span><span style="color:#a6e22e">is.na</span>(Game_Type))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>divisions <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;Northwest&#34;</span>, <span style="color:#e6db74">&#34;Atlantic&#34;</span>, <span style="color:#e6db74">&#34;Central&#34;</span>, <span style="color:#e6db74">&#34;Northwest&#34;</span>, <span style="color:#e6db74">&#34;Pacific&#34;</span>, <span style="color:#e6db74">&#34;Southwest&#34;</span>,
</span></span><span style="display:flex;"><span>               <span style="color:#e6db74">&#34;Southwest&#34;</span>, <span style="color:#e6db74">&#34;Atlantic&#34;</span>, <span style="color:#e6db74">&#34;Northwest&#34;</span>, <span style="color:#e6db74">&#34;Pacific&#34;</span>, <span style="color:#e6db74">&#34;Central&#34;</span>, <span style="color:#e6db74">&#34;Central&#34;</span>,
</span></span><span style="display:flex;"><span>               <span style="color:#e6db74">&#34;Central&#34;</span>, <span style="color:#e6db74">&#34;Pacific&#34;</span>, <span style="color:#e6db74">&#34;Southeast&#34;</span>, <span style="color:#e6db74">&#34;Pacific&#34;</span>, <span style="color:#e6db74">&#34;Southeast&#34;</span>, <span style="color:#e6db74">&#34;Southeast&#34;</span>,
</span></span><span style="display:flex;"><span>               <span style="color:#e6db74">&#34;Southwest&#34;</span>, <span style="color:#e6db74">&#34;Central&#34;</span>, <span style="color:#e6db74">&#34;Southwest&#34;</span>, <span style="color:#e6db74">&#34;Northwest&#34;</span>, <span style="color:#e6db74">&#34;Pacific&#34;</span>, <span style="color:#e6db74">&#34;Atlantic&#34;</span>,
</span></span><span style="display:flex;"><span>               <span style="color:#e6db74">&#34;Atlantic&#34;</span>, <span style="color:#e6db74">&#34;Atlantic&#34;</span>, <span style="color:#e6db74">&#34;Northwest&#34;</span>, <span style="color:#e6db74">&#34;Southeast&#34;</span>, <span style="color:#e6db74">&#34;Southwest&#34;</span>, <span style="color:#e6db74">&#34;Southeast&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>all_data<span style="color:#f92672">$</span>Division <span style="color:#f92672">&lt;-</span> divisions[all_data<span style="color:#f92672">$</span>Team_Rank]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Calculate averages</span>
</span></span><span style="display:flex;"><span>summary_data <span style="color:#f92672">&lt;-</span> all_data <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">group_by</span>(Division, Game_Type) <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">summarise</span>(PPG <span style="color:#f92672">=</span> <span style="color:#a6e22e">mean</span>(Points, na.rm <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>), .groups <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;drop&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Make sure data is clean</span>
</span></span><span style="display:flex;"><span>summary_data <span style="color:#f92672">&lt;-</span> summary_data <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">filter</span>(<span style="color:#f92672">!</span><span style="color:#a6e22e">is.na</span>(PPG) <span style="color:#f92672">&amp;</span> <span style="color:#f92672">!</span><span style="color:#a6e22e">is.na</span>(Division) <span style="color:#f92672">&amp;</span> <span style="color:#f92672">!</span><span style="color:#a6e22e">is.na</span>(Game_Type))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">cat</span>(<span style="color:#e6db74">&#34;\n=== PLOTTING DATA ===\n&#34;</span>)
</span></span></code></pre></div><pre tabindex="0"><code>## 
## === PLOTTING DATA ===
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">print</span>(summary_data)
</span></span></code></pre></div><pre tabindex="0"><code>## # A tibble: 12 × 3
##    Division  Game_Type   PPG
##    &lt;chr&gt;     &lt;chr&gt;     &lt;dbl&gt;
##  1 Atlantic  B2B        109.
##  2 Atlantic  Rest       111.
##  3 Central   B2B        110.
##  4 Central   Rest       113.
##  5 Northwest B2B        109.
##  6 Northwest Rest       113.
##  7 Pacific   B2B        117.
##  8 Pacific   Rest       118.
##  9 Southeast B2B        107.
## 10 Southeast Rest       111.
## 11 Southwest B2B        108.
## 12 Southwest Rest       110.
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">cat</span>(<span style="color:#e6db74">&#34;\n&#34;</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#75715e"># Create plot - bars visible with zoomed y-axis</span>
</span></span><span style="display:flex;"><span>p <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ggplot</span>(summary_data, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> Division, y <span style="color:#f92672">=</span> PPG, fill <span style="color:#f92672">=</span> Game_Type)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">geom_col</span>(position <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;dodge&#34;</span>, width <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.7</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">scale_fill_manual</span>(values <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;B2B&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;#EE5A6F&#34;</span>, <span style="color:#e6db74">&#34;Rest&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;#3498DB&#34;</span>),
</span></span><span style="display:flex;"><span>                    labels <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;B2B&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;2nd Night B2B&#34;</span>, <span style="color:#e6db74">&#34;Rest&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;With Rest&#34;</span>)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">scale_y_continuous</span>(breaks <span style="color:#f92672">=</span> <span style="color:#a6e22e">seq</span>(<span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">120</span>, <span style="color:#ae81ff">5</span>)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">coord_cartesian</span>(ylim <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">120</span>)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">labs</span>(title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;The more rest,the more points&#34;</span>,
</span></span><span style="display:flex;"><span>       y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Points Per Game&#34;</span>, 
</span></span><span style="display:flex;"><span>       x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Division&#34;</span>, 
</span></span><span style="display:flex;"><span>       fill <span style="color:#f92672">=</span> <span style="color:#66d9ef">NULL</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">theme_minimal</span>(base_size <span style="color:#f92672">=</span> <span style="color:#ae81ff">14</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">theme</span>(legend.position <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;top&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">print</span>(p)
</span></span></code></pre></div><img src="/8080/1212/08/nba-back-to-backs/index_files/figure-html/division-chart-1.png" width="1152" />
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">cat</span>(<span style="color:#e6db74">&#34;\n✓ If you see bars above, we&#39;re good!\n&#34;</span>)
</span></span></code></pre></div><pre tabindex="0"><code>## 
## ✓ If you see bars above, we&#39;re good!
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">cat</span>(<span style="color:#e6db74">&#34;✓ If not, check the saved PNG file\n&#34;</span>)
</span></span></code></pre></div><pre tabindex="0"><code>## ✓ If not, check the saved PNG file
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">ggsave</span>(<span style="color:#e6db74">&#34;nba_division_ggplot_fixed.png&#34;</span>, width <span style="color:#f92672">=</span> <span style="color:#ae81ff">14</span>, height <span style="color:#f92672">=</span> <span style="color:#ae81ff">9</span>, dpi <span style="color:#f92672">=</span> <span style="color:#ae81ff">300</span>, bg <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;white&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">cat</span>(<span style="color:#e6db74">&#34;✓ Also saved as &#39;nba_division_ggplot_fixed.png&#39;\n&#34;</span>)
</span></span></code></pre></div><pre tabindex="0"><code>## ✓ Also saved as &#39;nba_division_ggplot_fixed.png&#39;
</code></pre><p>All six divisions score fewer points on the second night of back-to-backs, with some divisions affected more than others. The Pacific division maintains the highest scoring even when tired, standing out from the rest of the league.</p>
<p>For this first chart, I wanted to look at one statistic in particular, which is winning percentage. In order to show a story having to do with winning percentage, I decided to look into every team&rsquo;s performances on the second night of a back to back and compare that to all of their other games in which the teams have one or more days of rest.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#75715e"># Winning percentage is much higher with rest - VERTICAL Dumbbell Chart</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Teams on X-axis, Win % on Y-axis (like the example)</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(tidyverse)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(lubridate)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">setwd</span>(<span style="color:#e6db74">&#34;~/Documents&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Team name mapping (positions 1-30 match your Teamdata file numbers)</span>
</span></span><span style="display:flex;"><span>team_names <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Nuggets&#34;</span>,      <span style="color:#75715e"># 1</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Celtics&#34;</span>,      <span style="color:#75715e"># 2</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Bucks&#34;</span>,        <span style="color:#75715e"># 3</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Timberwolves&#34;</span>, <span style="color:#75715e"># 4</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Thunder&#34;</span>,     <span style="color:#75715e"># 5</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Mavericks&#34;</span>,    <span style="color:#75715e"># 6</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Rockets&#34;</span>,      <span style="color:#75715e"># 7</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Knicks&#34;</span>,       <span style="color:#75715e"># 8</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Warriors&#34;</span>,      <span style="color:#75715e"># 9</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Clippers&#34;</span>,     <span style="color:#75715e"># 10</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Bulls&#34;</span>,        <span style="color:#75715e"># 11</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Cavaliers&#34;</span>,    <span style="color:#75715e"># 12</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Trail Blazers&#34;</span>,      <span style="color:#75715e"># 13</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Lakers&#34;</span>,       <span style="color:#75715e"># 14</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Hawks&#34;</span>,        <span style="color:#75715e"># 15</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Kings&#34;</span>,        <span style="color:#75715e"># 16</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Heat&#34;</span>,         <span style="color:#75715e"># 17</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Magic&#34;</span>,        <span style="color:#75715e"># 18</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Spurs&#34;</span>,        <span style="color:#75715e"># 19</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Pacers&#34;</span>,       <span style="color:#75715e"># 20</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Grizzlies&#34;</span>,    <span style="color:#75715e"># 21</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Pistons&#34;</span>,<span style="color:#75715e"># 22</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Suns&#34;</span>,         <span style="color:#75715e"># 23</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Raptors&#34;</span>,      <span style="color:#75715e"># 24</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;76ers&#34;</span>,        <span style="color:#75715e"># 25</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Nets&#34;</span>,         <span style="color:#75715e"># 26</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Jazz&#34;</span>,         <span style="color:#75715e"># 27</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Hornets&#34;</span>,      <span style="color:#75715e"># 28</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Pelicans&#34;</span>,     <span style="color:#75715e"># 29</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;Wizards&#34;</span>       <span style="color:#75715e"># 30</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Load data with team IDs</span>
</span></span><span style="display:flex;"><span>team_files <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">list.files</span>(pattern <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Teamdata.*\\.csv$&#34;</span>, full.names <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>)
</span></span><span style="display:flex;"><span>all_data <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">data.frame</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(i <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#a6e22e">length</span>(team_files)) {
</span></span><span style="display:flex;"><span>  file <span style="color:#f92672">&lt;-</span> team_files[i]
</span></span><span style="display:flex;"><span>  team_data <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">read.csv</span>(file, skip <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, stringsAsFactors <span style="color:#f92672">=</span> <span style="color:#66d9ef">FALSE</span>)
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  team_data <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">data.frame</span>(
</span></span><span style="display:flex;"><span>    Date <span style="color:#f92672">=</span> team_data[, <span style="color:#ae81ff">3</span>],
</span></span><span style="display:flex;"><span>    Result <span style="color:#f92672">=</span> team_data[, <span style="color:#ae81ff">6</span>],
</span></span><span style="display:flex;"><span>    Points <span style="color:#f92672">=</span> team_data[, <span style="color:#ae81ff">7</span>],
</span></span><span style="display:flex;"><span>    Opp_Points <span style="color:#f92672">=</span> team_data[, <span style="color:#ae81ff">8</span>]
</span></span><span style="display:flex;"><span>  )
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  team_data <span style="color:#f92672">&lt;-</span> team_data <span style="color:#f92672">|&gt;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">filter</span>(<span style="color:#f92672">!</span><span style="color:#a6e22e">is.na</span>(Date) <span style="color:#f92672">&amp;</span> Date <span style="color:#f92672">!=</span> <span style="color:#e6db74">&#34;&#34;</span>) <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">mutate</span>(Team_ID <span style="color:#f92672">=</span> i)  <span style="color:#75715e"># Keep as number for now</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  all_data <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">rbind</span>(all_data, team_data)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Convert and calculate</span>
</span></span><span style="display:flex;"><span>all_data <span style="color:#f92672">&lt;-</span> all_data <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">mutate</span>(
</span></span><span style="display:flex;"><span>    Date <span style="color:#f92672">=</span> <span style="color:#a6e22e">ymd</span>(Date),
</span></span><span style="display:flex;"><span>    Win <span style="color:#f92672">=</span> <span style="color:#a6e22e">ifelse</span>(<span style="color:#a6e22e">grepl</span>(<span style="color:#e6db74">&#34;W&#34;</span>, Result), <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>),
</span></span><span style="display:flex;"><span>    Points <span style="color:#f92672">=</span> <span style="color:#a6e22e">as.numeric</span>(Points),
</span></span><span style="display:flex;"><span>    Opp_Points <span style="color:#f92672">=</span> <span style="color:#a6e22e">as.numeric</span>(Opp_Points)
</span></span><span style="display:flex;"><span>  ) <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">arrange</span>(Team_ID, Date)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Identify game types</span>
</span></span><span style="display:flex;"><span>all_data <span style="color:#f92672">&lt;-</span> all_data <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">group_by</span>(Team_ID) <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">mutate</span>(
</span></span><span style="display:flex;"><span>    Days_Rest <span style="color:#f92672">=</span> <span style="color:#a6e22e">as.numeric</span>(Date <span style="color:#f92672">-</span> <span style="color:#a6e22e">lag</span>(Date)),
</span></span><span style="display:flex;"><span>    Game_Type <span style="color:#f92672">=</span> <span style="color:#a6e22e">case_when</span>(
</span></span><span style="display:flex;"><span>      Days_Rest <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">~</span> <span style="color:#e6db74">&#34;B2B&#34;</span>,
</span></span><span style="display:flex;"><span>      Days_Rest <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">~</span> <span style="color:#e6db74">&#34;Rest&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">TRUE</span> <span style="color:#f92672">~</span> <span style="color:#66d9ef">NA_character_</span>
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>  ) <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">filter</span>(<span style="color:#f92672">!</span><span style="color:#a6e22e">is.na</span>(Game_Type)) <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ungroup</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Calculate win % for each team</span>
</span></span><span style="display:flex;"><span>team_summary <span style="color:#f92672">&lt;-</span> all_data <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">group_by</span>(Team_ID, Game_Type) <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">summarise</span>(
</span></span><span style="display:flex;"><span>    Games <span style="color:#f92672">=</span> <span style="color:#a6e22e">n</span>(),
</span></span><span style="display:flex;"><span>    Win_Pct <span style="color:#f92672">=</span> <span style="color:#a6e22e">mean</span>(Win) <span style="color:#f92672">*</span> <span style="color:#ae81ff">100</span>,
</span></span><span style="display:flex;"><span>    .groups <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;drop&#34;</span>
</span></span><span style="display:flex;"><span>  ) <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">pivot_wider</span>(names_from <span style="color:#f92672">=</span> Game_Type, values_from <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(Games, Win_Pct))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Add team names and calculate gap</span>
</span></span><span style="display:flex;"><span>team_summary <span style="color:#f92672">&lt;-</span> team_summary <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">mutate</span>(
</span></span><span style="display:flex;"><span>    Team_Name <span style="color:#f92672">=</span> team_names[Team_ID],
</span></span><span style="display:flex;"><span>    Gap <span style="color:#f92672">=</span> Win_Pct_Rest <span style="color:#f92672">-</span> Win_Pct_B2B
</span></span><span style="display:flex;"><span>  ) <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">arrange</span>(<span style="color:#a6e22e">desc</span>(Gap))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">cat</span>(<span style="color:#a6e22e">sprintf</span>(<span style="color:#e6db74">&#34;\n=== Data Check ===\n&#34;</span>))
</span></span></code></pre></div><pre tabindex="0"><code>## 
## === Data Check ===
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">cat</span>(<span style="color:#a6e22e">sprintf</span>(<span style="color:#e6db74">&#34;Total teams: %d\n&#34;</span>, <span style="color:#a6e22e">nrow</span>(team_summary)))
</span></span></code></pre></div><pre tabindex="0"><code>## Total teams: 21
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">cat</span>(<span style="color:#e6db74">&#34;Teams included:\n&#34;</span>)
</span></span></code></pre></div><pre tabindex="0"><code>## Teams included:
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">print</span>(team_summary<span style="color:#f92672">$</span>Team_Name)
</span></span></code></pre></div><pre tabindex="0"><code>##  [1] &#34;Rockets&#34;       &#34;Pistons&#34;       &#34;Clippers&#34;      &#34;Heat&#34;         
##  [5] &#34;Celtics&#34;       &#34;Bulls&#34;         &#34;Timberwolves&#34;  &#34;Nuggets&#34;      
##  [9] &#34;Thunder&#34;       &#34;Jazz&#34;          &#34;Warriors&#34;      &#34;76ers&#34;        
## [13] &#34;Cavaliers&#34;     &#34;Nets&#34;          &#34;Raptors&#34;       &#34;Mavericks&#34;    
## [17] &#34;Bucks&#34;         &#34;Lakers&#34;        &#34;Trail Blazers&#34; &#34;Knicks&#34;       
## [21] &#34;Kings&#34;
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#75715e"># Create VERTICAL dumbbell with TEAM NAMES</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ggplot</span>(team_summary, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> <span style="color:#a6e22e">reorder</span>(Team_Name, <span style="color:#f92672">-</span>Gap))) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Connecting lines</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">geom_segment</span>(<span style="color:#a6e22e">aes</span>(y <span style="color:#f92672">=</span> Win_Pct_B2B, yend <span style="color:#f92672">=</span> Win_Pct_Rest, xend <span style="color:#f92672">=</span> Team_Name),
</span></span><span style="display:flex;"><span>               size <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;gray60&#34;</span>, alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.7</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Dots</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">geom_point</span>(<span style="color:#a6e22e">aes</span>(y <span style="color:#f92672">=</span> Win_Pct_B2B), size <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>, color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;#E74C3C&#34;</span>, alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.95</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">geom_point</span>(<span style="color:#a6e22e">aes</span>(y <span style="color:#f92672">=</span> Win_Pct_Rest), size <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>, color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;#3498DB&#34;</span>, alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.95</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># VALUE LABELS with white background boxes for readability</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">geom_label</span>(<span style="color:#a6e22e">aes</span>(y <span style="color:#f92672">=</span> Win_Pct_B2B, label <span style="color:#f92672">=</span> <span style="color:#a6e22e">sprintf</span>(<span style="color:#e6db74">&#34;%.1f&#34;</span>, Win_Pct_B2B)),
</span></span><span style="display:flex;"><span>            vjust <span style="color:#f92672">=</span> <span style="color:#ae81ff">1.8</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">2.5</span>, color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;#C0392B&#34;</span>, fontface <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;bold&#34;</span>,
</span></span><span style="display:flex;"><span>            fill <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;white&#34;</span>, label.size <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, label.padding <span style="color:#f92672">=</span> <span style="color:#a6e22e">unit</span>(<span style="color:#ae81ff">0.15</span>, <span style="color:#e6db74">&#34;lines&#34;</span>)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">geom_label</span>(<span style="color:#a6e22e">aes</span>(y <span style="color:#f92672">=</span> Win_Pct_Rest, label <span style="color:#f92672">=</span> <span style="color:#a6e22e">sprintf</span>(<span style="color:#e6db74">&#34;%.1f&#34;</span>, Win_Pct_Rest)),
</span></span><span style="display:flex;"><span>            vjust <span style="color:#f92672">=</span> <span style="color:#ae81ff">-0.8</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">2.5</span>, color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;#2471A3&#34;</span>, fontface <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;bold&#34;</span>,
</span></span><span style="display:flex;"><span>            fill <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;white&#34;</span>, label.size <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, label.padding <span style="color:#f92672">=</span> <span style="color:#a6e22e">unit</span>(<span style="color:#ae81ff">0.15</span>, <span style="color:#e6db74">&#34;lines&#34;</span>)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Labels</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">labs</span>(
</span></span><span style="display:flex;"><span>    title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Win Percentage: Back-to-Back vs Rest&#34;</span>,
</span></span><span style="display:flex;"><span>    subtitle <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;2nd night of B2B vs games with rest (sorted by biggest penalty)&#34;</span>,
</span></span><span style="display:flex;"><span>    x <span style="color:#f92672">=</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>    y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Winning problem on back to backs (%)&#34;</span>,
</span></span><span style="display:flex;"><span>    caption <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Red = 2nd night of B2B  |  Blue = Games with rest  |  2024-25 NBA Season&#34;</span>
</span></span><span style="display:flex;"><span>  ) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Clean theme</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">theme_minimal</span>(base_size <span style="color:#f92672">=</span> <span style="color:#ae81ff">13</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">theme</span>(
</span></span><span style="display:flex;"><span>    plot.title <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_text</span>(face <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;bold&#34;</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">17</span>, hjust <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>, margin <span style="color:#f92672">=</span> <span style="color:#a6e22e">margin</span>(b <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>, t <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>)),
</span></span><span style="display:flex;"><span>    plot.subtitle <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_text</span>(size <span style="color:#f92672">=</span> <span style="color:#ae81ff">11</span>, hjust <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>, color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;gray40&#34;</span>, margin <span style="color:#f92672">=</span> <span style="color:#a6e22e">margin</span>(b <span style="color:#f92672">=</span> <span style="color:#ae81ff">20</span>)),
</span></span><span style="display:flex;"><span>    plot.caption <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_text</span>(size <span style="color:#f92672">=</span> <span style="color:#ae81ff">9</span>, color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;gray50&#34;</span>, hjust <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>, margin <span style="color:#f92672">=</span> <span style="color:#a6e22e">margin</span>(t <span style="color:#f92672">=</span> <span style="color:#ae81ff">15</span>)),
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># X-axis (teams)</span>
</span></span><span style="display:flex;"><span>    axis.text.x <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_text</span>(angle <span style="color:#f92672">=</span> <span style="color:#ae81ff">45</span>, hjust <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">9</span>),
</span></span><span style="display:flex;"><span>    axis.text.y <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_text</span>(size <span style="color:#f92672">=</span> <span style="color:#ae81ff">11</span>),
</span></span><span style="display:flex;"><span>    axis.title.y <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_text</span>(size <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>, face <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;bold&#34;</span>, margin <span style="color:#f92672">=</span> <span style="color:#a6e22e">margin</span>(r <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>)),
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Grid</span>
</span></span><span style="display:flex;"><span>    panel.grid.major.x <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_line</span>(color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;gray92&#34;</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.3</span>),
</span></span><span style="display:flex;"><span>    panel.grid.major.y <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_line</span>(color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;gray85&#34;</span>, linetype <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;dashed&#34;</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.3</span>),
</span></span><span style="display:flex;"><span>    panel.grid.minor <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>(),
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    plot.margin <span style="color:#f92672">=</span> <span style="color:#a6e22e">margin</span>(<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">35</span>, <span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">25</span>)
</span></span><span style="display:flex;"><span>  ) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Y-axis with extra space at top so labels don&#39;t get cut off</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">scale_y_continuous</span>(limits <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">110</span>), breaks <span style="color:#f92672">=</span> <span style="color:#a6e22e">seq</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">20</span>)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Add expansion on x-axis to prevent right-side cutoff</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">scale_x_discrete</span>(expand <span style="color:#f92672">=</span> <span style="color:#a6e22e">expansion</span>(add <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0.5</span>, <span style="color:#ae81ff">0.8</span>)))
</span></span></code></pre></div><img src="/8080/1212/08/nba-back-to-backs/index_files/figure-html/unnamed-chunk-1-1.png" width="1152" />
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#75715e"># Save as WIDE chart so all teams fit</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ggsave</span>(<span style="color:#e6db74">&#34;nba_b2b_vertical.png&#34;</span>, width <span style="color:#f92672">=</span> <span style="color:#ae81ff">18</span>, height <span style="color:#f92672">=</span> <span style="color:#ae81ff">8</span>, dpi <span style="color:#f92672">=</span> <span style="color:#ae81ff">300</span>, bg <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;white&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">cat</span>(<span style="color:#e6db74">&#34;\n✓ Chart with team names created!\n&#34;</span>)
</span></span></code></pre></div><pre tabindex="0"><code>## 
## ✓ Chart with team names created!
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">cat</span>(<span style="color:#a6e22e">sprintf</span>(<span style="color:#e6db74">&#34;✓ All %d teams included\n&#34;</span>, <span style="color:#a6e22e">nrow</span>(team_summary)))
</span></span></code></pre></div><pre tabindex="0"><code>## ✓ All 21 teams included
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">cat</span>(<span style="color:#a6e22e">sprintf</span>(<span style="color:#e6db74">&#34;\nAverage gap: %.1f%%\n&#34;</span>, <span style="color:#a6e22e">mean</span>(team_summary<span style="color:#f92672">$</span>Gap)))
</span></span></code></pre></div><pre tabindex="0"><code>## 
## Average gap: 7.6%
</code></pre><p>As you can see from the dumbbell chart, it is extremely evident that teams had a much worse win percentage in games on the second night of a back to back compared to when they had rest. A vast majority of the teams shared that sediment while there were a few outliers that actually did play better with no rest the day before, although that is a much lower number of teams, as well as the difference is not as significant as many of the teams performing better on rest.</p>
<p>While two of the three charts have suggested that rest does have an impact on the play of these teams, I wanted to focus on what exactly is happening offensively and defensively to correlate with both PPG scoring and winning percentage.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(tidyverse)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">library</span>(lubridate)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">setwd</span>(<span style="color:#e6db74">&#34;~/Documents&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Load all team data</span>
</span></span><span style="display:flex;"><span>team_files <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">list.files</span>(pattern <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Teamdata.*\\.csv$&#34;</span>, full.names <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>)
</span></span><span style="display:flex;"><span>all_data <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">data.frame</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(i <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#a6e22e">length</span>(team_files)) {
</span></span><span style="display:flex;"><span>  file <span style="color:#f92672">&lt;-</span> team_files[i]
</span></span><span style="display:flex;"><span>  team_data <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">read.csv</span>(file, skip <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, stringsAsFactors <span style="color:#f92672">=</span> <span style="color:#66d9ef">FALSE</span>)
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  team_data <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">data.frame</span>(
</span></span><span style="display:flex;"><span>    Date <span style="color:#f92672">=</span> team_data[, <span style="color:#ae81ff">3</span>],
</span></span><span style="display:flex;"><span>    Points <span style="color:#f92672">=</span> team_data[, <span style="color:#ae81ff">7</span>],
</span></span><span style="display:flex;"><span>    Opp_Points <span style="color:#f92672">=</span> team_data[, <span style="color:#ae81ff">8</span>]
</span></span><span style="display:flex;"><span>  )
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  team_data <span style="color:#f92672">&lt;-</span> team_data <span style="color:#f92672">|&gt;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">filter</span>(<span style="color:#f92672">!</span><span style="color:#a6e22e">is.na</span>(Date) <span style="color:#f92672">&amp;</span> Date <span style="color:#f92672">!=</span> <span style="color:#e6db74">&#34;&#34;</span>) <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">mutate</span>(Team_ID <span style="color:#f92672">=</span> i)
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  all_data <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">rbind</span>(all_data, team_data)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Process data</span>
</span></span><span style="display:flex;"><span>all_data <span style="color:#f92672">&lt;-</span> all_data <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">mutate</span>(
</span></span><span style="display:flex;"><span>    Date <span style="color:#f92672">=</span> <span style="color:#a6e22e">ymd</span>(Date),
</span></span><span style="display:flex;"><span>    Points <span style="color:#f92672">=</span> <span style="color:#a6e22e">as.numeric</span>(Points),
</span></span><span style="display:flex;"><span>    Opp_Points <span style="color:#f92672">=</span> <span style="color:#a6e22e">as.numeric</span>(Opp_Points)
</span></span><span style="display:flex;"><span>  ) <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">arrange</span>(Team_ID, Date)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Calculate rest and metrics</span>
</span></span><span style="display:flex;"><span>all_data <span style="color:#f92672">&lt;-</span> all_data <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">group_by</span>(Team_ID) <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">mutate</span>(
</span></span><span style="display:flex;"><span>    Days_Rest <span style="color:#f92672">=</span> <span style="color:#a6e22e">as.numeric</span>(Date <span style="color:#f92672">-</span> <span style="color:#a6e22e">lag</span>(Date)),
</span></span><span style="display:flex;"><span>    Game_Type <span style="color:#f92672">=</span> <span style="color:#a6e22e">case_when</span>(
</span></span><span style="display:flex;"><span>      Days_Rest <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">~</span> <span style="color:#e6db74">&#34;B2B&#34;</span>,
</span></span><span style="display:flex;"><span>      Days_Rest <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">~</span> <span style="color:#e6db74">&#34;Rest&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">TRUE</span> <span style="color:#f92672">~</span> <span style="color:#66d9ef">NA_character_</span>
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>  ) <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">filter</span>(<span style="color:#f92672">!</span><span style="color:#a6e22e">is.na</span>(Game_Type)) <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">ungroup</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Add divisions</span>
</span></span><span style="display:flex;"><span>divisions <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;Northwest&#34;</span>, <span style="color:#e6db74">&#34;Atlantic&#34;</span>, <span style="color:#e6db74">&#34;Central&#34;</span>, <span style="color:#e6db74">&#34;Northwest&#34;</span>, <span style="color:#e6db74">&#34;Pacific&#34;</span>, <span style="color:#e6db74">&#34;Southwest&#34;</span>,
</span></span><span style="display:flex;"><span>               <span style="color:#e6db74">&#34;Southwest&#34;</span>, <span style="color:#e6db74">&#34;Atlantic&#34;</span>, <span style="color:#e6db74">&#34;Northwest&#34;</span>, <span style="color:#e6db74">&#34;Pacific&#34;</span>, <span style="color:#e6db74">&#34;Central&#34;</span>, <span style="color:#e6db74">&#34;Central&#34;</span>,
</span></span><span style="display:flex;"><span>               <span style="color:#e6db74">&#34;Central&#34;</span>, <span style="color:#e6db74">&#34;Pacific&#34;</span>, <span style="color:#e6db74">&#34;Southeast&#34;</span>, <span style="color:#e6db74">&#34;Pacific&#34;</span>, <span style="color:#e6db74">&#34;Southeast&#34;</span>, <span style="color:#e6db74">&#34;Southeast&#34;</span>,
</span></span><span style="display:flex;"><span>               <span style="color:#e6db74">&#34;Southwest&#34;</span>, <span style="color:#e6db74">&#34;Central&#34;</span>, <span style="color:#e6db74">&#34;Southwest&#34;</span>, <span style="color:#e6db74">&#34;Northwest&#34;</span>, <span style="color:#e6db74">&#34;Pacific&#34;</span>, <span style="color:#e6db74">&#34;Atlantic&#34;</span>,
</span></span><span style="display:flex;"><span>               <span style="color:#e6db74">&#34;Atlantic&#34;</span>, <span style="color:#e6db74">&#34;Atlantic&#34;</span>, <span style="color:#e6db74">&#34;Northwest&#34;</span>, <span style="color:#e6db74">&#34;Southeast&#34;</span>, <span style="color:#e6db74">&#34;Southwest&#34;</span>, <span style="color:#e6db74">&#34;Southeast&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>all_data<span style="color:#f92672">$</span>Division <span style="color:#f92672">&lt;-</span> divisions[all_data<span style="color:#f92672">$</span>Team_ID]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Calculate division metrics - FIXED</span>
</span></span><span style="display:flex;"><span>division_summary <span style="color:#f92672">&lt;-</span> all_data <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">group_by</span>(Division, Game_Type) <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">summarise</span>(
</span></span><span style="display:flex;"><span>    Avg_Points <span style="color:#f92672">=</span> <span style="color:#a6e22e">mean</span>(Points, na.rm <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>),
</span></span><span style="display:flex;"><span>    Avg_Opp_Points <span style="color:#f92672">=</span> <span style="color:#a6e22e">mean</span>(Opp_Points, na.rm <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>),
</span></span><span style="display:flex;"><span>    .groups <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;drop&#34;</span>
</span></span><span style="display:flex;"><span>  ) <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">pivot_wider</span>(
</span></span><span style="display:flex;"><span>    names_from <span style="color:#f92672">=</span> Game_Type,
</span></span><span style="display:flex;"><span>    values_from <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(Avg_Points, Avg_Opp_Points)
</span></span><span style="display:flex;"><span>  ) <span style="color:#f92672">|&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">mutate</span>(
</span></span><span style="display:flex;"><span>    Scoring_Drop <span style="color:#f92672">=</span> Avg_Points_B2B <span style="color:#f92672">-</span> Avg_Points_Rest,
</span></span><span style="display:flex;"><span>    Defense_Drop <span style="color:#f92672">=</span> Avg_Opp_Points_B2B <span style="color:#f92672">-</span> Avg_Opp_Points_Rest
</span></span><span style="display:flex;"><span>  )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Print to verify data</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">cat</span>(<span style="color:#e6db74">&#34;\n=== Division Summary ===\n&#34;</span>)
</span></span></code></pre></div><pre tabindex="0"><code>## 
## === Division Summary ===
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">print</span>(division_summary)
</span></span></code></pre></div><pre tabindex="0"><code>## # A tibble: 6 × 7
##   Division Avg_Points_B2B Avg_Points_Rest Avg_Opp_Points_B2B Avg_Opp_Points_Rest
##   &lt;chr&gt;             &lt;dbl&gt;           &lt;dbl&gt;              &lt;dbl&gt;               &lt;dbl&gt;
## 1 Atlantic           114.            115.               111.                112.
## 2 Central            107.            111.               112.                113.
## 3 Northwe…           111.            114.               117.                113.
## 4 Pacific            118.            117.               116.                114.
## 5 Southea…           115.            116.               122.                114.
## 6 Southwe…           109.            115.               108.                112.
## # ℹ 2 more variables: Scoring_Drop &lt;dbl&gt;, Defense_Drop &lt;dbl&gt;
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#75715e"># Create plot</span>
</span></span><span style="display:flex;"><span>p <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ggplot</span>(division_summary, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> Scoring_Drop, y <span style="color:#f92672">=</span> Defense_Drop)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">geom_hline</span>(yintercept <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, linetype <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;dashed&#34;</span>, color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;gray50&#34;</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">geom_vline</span>(xintercept <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, linetype <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;dashed&#34;</span>, color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;gray50&#34;</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">geom_point</span>(size <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>, alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.7</span>, <span style="color:#a6e22e">aes</span>(color <span style="color:#f92672">=</span> Division)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">scale_color_manual</span>(values <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Atlantic&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;#E74C3C&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Central&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;#E67E22&#34;</span>, 
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Southeast&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;#C0392B&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Northwest&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;#3498DB&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Pacific&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;#2980B9&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Southwest&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;#8E44AD&#34;</span>
</span></span><span style="display:flex;"><span>  )) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Quadrant labels - CLEAN (no division names)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">annotate</span>(<span style="color:#e6db74">&#34;text&#34;</span>, x <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">4.5</span>, label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;STRUGGLING&#34;</span>, 
</span></span><span style="display:flex;"><span>           color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;#C0392B&#34;</span>, fontface <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;bold&#34;</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">4.5</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">annotate</span>(<span style="color:#e6db74">&#34;text&#34;</span>, x <span style="color:#f92672">=</span> <span style="color:#ae81ff">-1.5</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">-1.5</span>, label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;DECLINE&#34;</span>, 
</span></span><span style="display:flex;"><span>           color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;gray50&#34;</span>, fontface <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;bold&#34;</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">4.5</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">annotate</span>(<span style="color:#e6db74">&#34;text&#34;</span>, x <span style="color:#f92672">=</span> <span style="color:#ae81ff">-1.5</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Tired&#34;</span>, 
</span></span><span style="display:flex;"><span>           color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;#27AE60&#34;</span>, fontface <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;bold&#34;</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">4.5</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">labs</span>(
</span></span><span style="display:flex;"><span>    title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;How NBA Divisions Struggle on Back-to-Backs&#34;</span>,
</span></span><span style="display:flex;"><span>    subtitle <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Each division shows scoring AND defending when tired | Green zone = Division performs BETTER when tired | 2024-25 NBA&#34;</span>,
</span></span><span style="display:flex;"><span>    x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Can&#39;t Score When Tired\n(Points Scored Drop)&#34;</span>,
</span></span><span style="display:flex;"><span>    y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Can&#39;t Defend When Tired\n(Points Allowed Increases)&#34;</span>,
</span></span><span style="display:flex;"><span>    caption <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Each dot = one division | Top-right = worst situation (can&#39;t score OR defend) | 2024-25 NBA&#34;</span>
</span></span><span style="display:flex;"><span>  ) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">theme_minimal</span>(base_size <span style="color:#f92672">=</span> <span style="color:#ae81ff">11</span>) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">theme</span>(
</span></span><span style="display:flex;"><span>    legend.title <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_text</span>(size <span style="color:#f92672">=</span> <span style="color:#ae81ff">8</span>, face <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;bold&#34;</span>),
</span></span><span style="display:flex;"><span>    legend.text <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_text</span>(size <span style="color:#f92672">=</span> <span style="color:#ae81ff">7</span>),
</span></span><span style="display:flex;"><span>    legend.key.size <span style="color:#f92672">=</span> <span style="color:#a6e22e">unit</span>(<span style="color:#ae81ff">0.5</span>, <span style="color:#e6db74">&#34;cm&#34;</span>),
</span></span><span style="display:flex;"><span>    panel.grid.major.x <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>(),
</span></span><span style="display:flex;"><span>    panel.grid.major.y <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_line</span>(color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;gray85&#34;</span>, linewidth <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>),
</span></span><span style="display:flex;"><span>    panel.grid.minor <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>(),
</span></span><span style="display:flex;"><span>    plot.background <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_rect</span>(fill <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;white&#34;</span>, color <span style="color:#f92672">=</span> <span style="color:#66d9ef">NA</span>),
</span></span><span style="display:flex;"><span>    panel.background <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_rect</span>(fill <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;white&#34;</span>, color <span style="color:#f92672">=</span> <span style="color:#66d9ef">NA</span>),
</span></span><span style="display:flex;"><span>    plot.margin <span style="color:#f92672">=</span> <span style="color:#a6e22e">margin</span>(<span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">15</span>)
</span></span><span style="display:flex;"><span>  ) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">scale_y_continuous</span>(expand <span style="color:#f92672">=</span> <span style="color:#a6e22e">expansion</span>(mult <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0.12</span>)), breaks <span style="color:#f92672">=</span> <span style="color:#a6e22e">seq</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">2</span>)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">scale_x_continuous</span>(expand <span style="color:#f92672">=</span> <span style="color:#a6e22e">expansion</span>(mult <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0.12</span>)), breaks <span style="color:#f92672">=</span> <span style="color:#a6e22e">seq</span>(<span style="color:#ae81ff">-6</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">2</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">print</span>(p)
</span></span></code></pre></div><img src="/8080/1212/08/nba-back-to-backs/index_files/figure-html/unnamed-chunk-2-1.png" width="1152" />
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">ggsave</span>(<span style="color:#e6db74">&#34;/Users/braxtonwolfe/Documents/defensive_grouped_chart.png&#34;</span>, 
</span></span><span style="display:flex;"><span>       width <span style="color:#f92672">=</span> <span style="color:#ae81ff">16</span>, height <span style="color:#f92672">=</span> <span style="color:#ae81ff">9</span>, dpi <span style="color:#f92672">=</span> <span style="color:#ae81ff">300</span>, bg <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;white&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">cat</span>(<span style="color:#e6db74">&#34;\n✓ Chart created with points visible!\n&#34;</span>)
</span></span></code></pre></div><pre tabindex="0"><code>## 
## ✓ Chart created with points visible!
</code></pre><h2 id="conclusion">Conclusion</h2>
<p>Back-to-back games create measurable performance drops across the NBA. These charts demonstrate that fatigue affects all divisions,as well as most teams in the NBA, but the impact varies significantly. Schedule balance remains an important consideration for competitive fairness in the league, as well as the uptick in injuries the league has been seeeing lately.</p>

    </div>
  </article>

  


</main>

      <footer class="footer">
        <ul class="footer-links">
          
          <li>
            <a href="https://gohugo.io/" class="footer-links-kudos">Made with <img src="/images/hugo-logo.png" alt="Img link to Hugo website" width="22" height="22"></a>
          </li>
        </ul>
      </footer>

    </div>
    



<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js//highlight.min.js"></script>



<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



    
<script src="/js/math-code.js"></script>
<script async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>


    
  </body>
</html>

